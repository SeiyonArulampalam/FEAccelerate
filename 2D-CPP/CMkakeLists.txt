cmake_minimum_required(VERSION 3.26.6)

project(FEA 
VERSION 1.0)

set(CMAKE_CXX_STANDARD 11)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# Set the path to the inclue directory
set(GMSH_INCLUDE_DIRS /opt/homebrew/include)

# Find the path tot he gmsh library
find_library(GMSH_LIB
NAMES gmsh
HINTS /opt/homebrew/lib)

# Include the directories and set the library location variable
if (GMSH_INCLUDE_DIRS AND GMSH_LIB)
    include_directories(${GMSH_INCLUDE_DIRS}) # location to search for include files
    message(STATUS "GMSH_INCLUDE_DIRS=${GMSH_INCLUDE_DIRS}")
    set(GMSH_LIBRARY ${GMSH_LIB})
    message(STATUS "GMSH_LIBRARIES=${GMSH_LIBRARIES}")
    list(APPEND EXTRA_LIBS ${GMSH_LIBRARIES})
else()
    message(FATAL_ERROR "GMSH not found")
endif()

# Add the executable
add_executable(model geom.cpp)


# Link the libraries to the executable
target_link_libraries(model ${EXTRA_LIBS})